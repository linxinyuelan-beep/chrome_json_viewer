<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤§æ•´æ•°æµ‹è¯•é¡µé¢ - JSON Viewer</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #333;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 10px;
        }
        h2 {
            color: #555;
            margin-top: 30px;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .json-text {
            background: #f8f8f8;
            padding: 15px;
            border-radius: 4px;
            border-left: 4px solid #4CAF50;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 10px 0;
        }
        .description {
            color: #666;
            margin: 10px 0;
            line-height: 1.6;
        }
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 10px 15px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .info {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 10px 15px;
            margin: 10px 0;
            border-radius: 4px;
        }
        code {
            background: #e9ecef;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <h1>ğŸ”¢ å¤§æ•´æ•°ç²¾åº¦æµ‹è¯•é¡µé¢</h1>
    
    <div class="info">
        <strong>ğŸ“Œ æµ‹è¯•è¯´æ˜ï¼š</strong>
        <p>æ­¤é¡µé¢ç”¨äºæµ‹è¯• JSON Viewer æ‰©å±•å¯¹å¤§æ•´æ•°çš„å¤„ç†èƒ½åŠ›ã€‚JavaScript çš„ Number ç±»å‹åŸºäº IEEE 754 åŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œ
        åªèƒ½å®‰å…¨è¡¨ç¤º -2^53 åˆ° 2^53 ä¹‹é—´çš„æ•´æ•°ï¼ˆå³ Â±9007199254740991ï¼‰ã€‚è¶…å‡ºæ­¤èŒƒå›´çš„æ•´æ•°ä¼šå‘ç”Ÿç²¾åº¦ä¸¢å¤±ã€‚</p>
        <p><code>Number.MAX_SAFE_INTEGER = 9007199254740991</code> (16ä½æ•°å­—)</p>
    </div>

    <div class="test-section">
        <h2>æµ‹è¯•ç”¨ä¾‹ 1ï¼šç”¨æˆ·æŠ¥å‘Šçš„é—®é¢˜ - æ•°ç»„ä¸­çš„å¤§æ•´æ•° â­</h2>
        <div class="description">
            <strong>è¿™æ˜¯æœ€é‡è¦çš„æµ‹è¯•ï¼</strong> ç”¨æˆ·å‘ç° <code>ticketingVoucherIds</code> æ•°ç»„ä¸­çš„å€¼ä» <code>16633992720384107</code> å˜æˆäº† <code>16633992720384108</code>
        </div>
        <div class="json-text">[{"orderId":1134766076569217,"ticketingVoucherIds":[16633992720384107]}]</div>
        <div class="warning">
            <strong>âš ï¸ é¢„æœŸè¡Œä¸ºï¼š</strong> æ‰“å¼€ååº”è¯¥æ˜¾ç¤ºä¸ºå­—ç¬¦ä¸² <code>"16633992720384107"</code>ï¼ˆå¸¦å¼•å·ï¼‰ï¼Œä¿æŒåŸå€¼ä¸å˜
        </div>
        <div class="info">
            <strong>ğŸ” å…³é”®ç‚¹ï¼š</strong> è¿™ä¸ªæ•°å­—åœ¨<strong>æ•°ç»„</strong>ä¸­ï¼Œä¿®å¤å‰çš„æ­£åˆ™è¡¨è¾¾å¼åªèƒ½å¤„ç†é”®å€¼å¯¹ï¼Œæ— æ³•å¤„ç†æ•°ç»„ä¸­çš„å¤§æ•´æ•°ã€‚ä¿®å¤åå¢åŠ äº†ä¸“é—¨çš„æ•°ç»„åŒ¹é…æ¨¡å¼ã€‚
        </div>
    </div>

    <div class="test-section">
        <h2>æµ‹è¯•ç”¨ä¾‹ 2ï¼šè¾¹ç•Œå€¼æµ‹è¯•</h2>
        <div class="description">
            æµ‹è¯•åˆšå¥½åœ¨å®‰å…¨æ•´æ•°è¾¹ç•Œé™„è¿‘çš„å€¼
        </div>
        <div class="json-text">{
  "maxSafeInteger": 9007199254740991,
  "justOverMax": 9007199254740992,
  "muchOverMax": 9007199254740999,
  "veryLargeInt": 12345678901234567890
}</div>
    </div>

    <div class="test-section">
        <h2>æµ‹è¯•ç”¨ä¾‹ 3ï¼šè®¢å•IDåœºæ™¯</h2>
        <div class="description">
            æ¨¡æ‹ŸçœŸå®çš„è®¢å•ç³»ç»Ÿï¼Œé€šå¸¸ä½¿ç”¨é›ªèŠ±ç®—æ³•ç”Ÿæˆçš„64ä½æ•´æ•°ID
        </div>
        <div class="json-text">{
  "orderId": 1234567890123456789,
  "userId": 9876543210987654321,
  "transactionId": 1111222233334444555,
  "timestamp": 1703577600000,
  "items": [
    {
      "productId": 5555666677778888999,
      "quantity": 2
    }
  ]
}</div>
    </div>

    <div class="test-section">
        <h2>æµ‹è¯•ç”¨ä¾‹ 4ï¼šçº¯æ•°ç»„ä¸­çš„å¤§æ•´æ•°</h2>
        <div class="description">
            æµ‹è¯•çº¯æ•°ç»„ï¼ˆä¸åœ¨å¯¹è±¡ä¸­ï¼‰åŒ…å«å¤šä¸ªå¤§æ•´æ•°çš„æƒ…å†µ
        </div>
        <div class="json-text">[
  1234567890123456789,
  2345678901234567890,
  3456789012345678901,
  4567890123456789012
]</div>
        <div class="info">
            <strong>ğŸ“ è¯´æ˜ï¼š</strong> è¿™æ˜¯å¯¹æ•°ç»„å¤§æ•´æ•°å¤„ç†çš„ç›´æ¥æµ‹è¯•ï¼Œæ‰€æœ‰æ•°å­—éƒ½åº”è¯¥è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ ¼å¼
        </div>
    </div>

    <div class="test-section">
        <h2>æµ‹è¯•ç”¨ä¾‹ 5ï¼šåµŒå¥—æ•°ç»„ä¸­çš„å¤§æ•´æ•°</h2>
        <div class="description">
            æµ‹è¯•å¤šå±‚åµŒå¥—æ•°ç»„ä¸­çš„å¤§æ•´æ•°
        </div>
        <div class="json-text">{
  "matrix": [
    [16633992720384107, 16633992720384108],
    [16633992720384109, 16633992720384110]
  ],
  "list": [1234567890123456789, [9876543210987654321]]
}</div>
    </div>

    <div class="test-section">
        <h2>æµ‹è¯•ç”¨ä¾‹ 6ï¼šå¯¹æ¯”æµ‹è¯• - é”®å€¼å¯¹ vs æ•°ç»„</h2>
        <div class="description">
            åŒä¸€ä¸ªå¤§æ•´æ•°ï¼Œåœ¨é”®å€¼å¯¹å’Œæ•°ç»„ä¸­çš„è¡¨ç°åº”è¯¥ä¸€è‡´
        </div>
        <div class="json-text">{
  "inObject": 16633992720384107,
  "inArray": [16633992720384107],
  "both": {
    "value": 16633992720384107,
    "list": [16633992720384107, 16633992720384108]
  }
}</div>
        <div class="info">
            <strong>âœ… é¢„æœŸï¼š</strong> æ‰€æœ‰çš„ <code>16633992720384107</code> éƒ½åº”è¯¥æ˜¾ç¤ºä¸ºå­—ç¬¦ä¸² <code>"16633992720384107"</code>
        </div>
    </div>

    <div class="test-section">
        <h2>æµ‹è¯•ç”¨ä¾‹ 7ï¼šæ··åˆç±»å‹æ•°ç»„</h2>
        <div class="description">
            æ•°ç»„ä¸­åŒæ—¶åŒ…å«å¤§æ•´æ•°ã€å°æ•´æ•°ã€å­—ç¬¦ä¸²ç­‰ä¸åŒç±»å‹
        </div>
        <div class="json-text">{
  "mixed": [
    123,
    "text",
    16633992720384107,
    true,
    null,
    {"nested": 98765432109876543},
    [11111111111111111, 22222222222222222]
  ]
}</div>
    </div>

    <div class="test-section">
        <h2>æµ‹è¯•ç”¨ä¾‹ 8ï¼šè¾¹ç•Œæµ‹è¯• - 16ä½ vs 17ä½</h2>
        <div class="description">
            æµ‹è¯• 16 ä½å’Œ 17 ä½æ•´æ•°çš„åŒºåˆ«ï¼ˆé˜ˆå€¼æµ‹è¯•ï¼‰
        </div>
        <div class="json-text">{
  "digits16_safe": [1234567890123456, 9007199254740991],
  "digits17_unsafe": [12345678901234567, 16633992720384107],
  "comparison": {
    "maxSafe": 9007199254740991,
    "overSafe": 9007199254740992
  }
}</div>
        <div class="warning">
            <strong>âš ï¸ æ³¨æ„ï¼š</strong> 16ä½æ•°å­—åº”è¯¥ä¿æŒä¸º number ç±»å‹ï¼Œ17ä½åŠä»¥ä¸Šåº”è¯¥è½¬æ¢ä¸º string ç±»å‹
        </div>
    </div>

    <div class="test-section">
        <h2>æµ‹è¯•ç”¨ä¾‹ 5ï¼šæ··åˆç±»å‹</h2>
        <div class="description">
            æµ‹è¯•å¤§æ•´æ•°ä¸å…¶ä»–ç±»å‹æ··åˆçš„åœºæ™¯
        </div>
        <div class="json-text">{
  "id": 1234567890123456789,
  "name": "æµ‹è¯•è®¢å•",
  "amount": 99.99,
  "status": "pending",
  "createdAt": "2024-12-25T10:30:00Z",
  "tags": ["urgent", "vip"],
  "metadata": {
    "requestId": 9876543210987654321,
    "sessionId": "abc123xyz789",
    "attempts": 3
  }
}</div>
    </div>

    <div class="test-section">
        <h2>æµ‹è¯•ç”¨ä¾‹ 6ï¼šåµŒå¥—å¯¹è±¡ä¸­çš„å¤§æ•´æ•°</h2>
        <div class="description">
            æµ‹è¯•æ·±å±‚åµŒå¥—ç»“æ„ä¸­çš„å¤§æ•´æ•°
        </div>
        <div class="json-text">{
  "level1": {
    "id": 1111111111111111111,
    "level2": {
      "id": 2222222222222222222,
      "level3": {
        "id": 3333333333333333333,
        "data": [
          {
            "recordId": 4444444444444444444
          },
          {
            "recordId": 5555555555555555555
          }
        ]
      }
    }
  }
}</div>
    </div>

    <div class="test-section">
        <h2>æµ‹è¯•ç”¨ä¾‹ 7ï¼š17ä½ä»¥ä¸Šçš„æ•´æ•°ï¼ˆè§¦å‘ä¿æŠ¤æœºåˆ¶ï¼‰</h2>
        <div class="description">
            æ‰©å±•çš„å¤§æ•´æ•°ä¿æŠ¤æœºåˆ¶ä¼šå°† 17 ä½åŠä»¥ä¸Šçš„æ•´æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²
        </div>
        <div class="json-text">{
  "id16digits": 1234567890123456,
  "id17digits": 12345678901234567,
  "id18digits": 123456789012345678,
  "id19digits": 1234567890123456789,
  "id20digits": 12345678901234567890
}</div>
        <div class="info">
            <strong>ğŸ“ æ³¨æ„ï¼š</strong> æ ¹æ® <code>jsonParser.ts</code> çš„å®ç°ï¼Œ17ä½åŠä»¥ä¸Šçš„æ•´æ•°ä¼šè¢«è‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ ¼å¼ä»¥ä¿æŒç²¾åº¦
        </div>
    </div>

    <div class="test-section">
        <h2>éªŒè¯æ–¹æ³•</h2>
        <div class="description">
            <ol>
                <li>åŒå‡»æˆ–é€‰ä¸­ä¸Šé¢çš„ä»»ä½• JSON æ–‡æœ¬</li>
                <li>æ‰©å±•ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶é«˜äº®æ˜¾ç¤º</li>
                <li>å†æ¬¡åŒå‡»æ‰“å¼€ JSON æŸ¥çœ‹å™¨</li>
                <li>åœ¨æŸ¥çœ‹å™¨ä¸­æ£€æŸ¥å¤§æ•´æ•°çš„å€¼æ˜¯å¦ä¿æŒä¸å˜</li>
                <li>ç‰¹åˆ«æ³¨æ„ 17 ä½åŠä»¥ä¸Šçš„æ•´æ•°åº”è¯¥æ˜¾ç¤ºä¸ºå¸¦å¼•å·çš„å­—ç¬¦ä¸²</li>
            </ol>
        </div>
    </div>

    <script>
        // åœ¨æ§åˆ¶å°è¾“å‡ºä¸€äº›æµ‹è¯•ä¿¡æ¯
        console.log('%cå¤§æ•´æ•°æµ‹è¯•ä¿¡æ¯', 'color: #4CAF50; font-size: 16px; font-weight: bold;');
        console.log('Number.MAX_SAFE_INTEGER =', Number.MAX_SAFE_INTEGER);
        console.log('åŸå§‹å€¼: 16633992720384107');
        console.log('ä¸å®‰å…¨çš„è§£æ:', JSON.parse('16633992720384107'));
        console.log('ç²¾åº¦æ˜¯å¦ä¸¢å¤±:', JSON.parse('16633992720384107') !== 16633992720384107);
        
        // æµ‹è¯•ä¸€äº›å¤§æ•´æ•°
        const testNumbers = [
            16633992720384107,
            1234567890123456789,
            9007199254740991,
            9007199254740992
        ];
        
        console.log('\næµ‹è¯•ç»“æœ:');
        testNumbers.forEach(num => {
            const parsed = JSON.parse(num.toString());
            const match = parsed === num;
            console.log(`${num}: ${match ? 'âœ“ ç²¾åº¦ä¿æŒ' : 'âœ— ç²¾åº¦ä¸¢å¤±'} (è§£æå: ${parsed})`);
        });
    </script>
</body>
</html>
